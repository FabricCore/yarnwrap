# Yarnwrap - A FabricMC Wrapper

[**Docs**](https://yarnwrap.siri.ws) ([Mirror](https://fabriccore.github.io/yarnwrap/)) | [**Generator (Wrapper)**](https://github.com/FabricCore/yarn-wrapper-gen) | [**Generator (Events)**](https://github.com/FabricCore/fabric_event_mappers)

Yarnwrap allows Java classes from Minecraft to be referenced by their actual name, which is previously not possible due to Minecraft obfuscation.

> [!IMPORTANT]
> **Fabric API** is required.

Yarnwrap contains

- Wrapper classes for each Java class from Minecraft ([see docs](https://fabriccore.github.io/yarnwrap/)).
- Listener for all [Fabric API events](https://wiki.fabricmc.net/tutorial:event_index).

| Version | Download                                                                                            |
| ------- | --------------------------------------------------------------------------------------------------- |
| 1.21.5  | [1.21.5b3](https://github.com/FabricCore/yarnwrap/releases/download/b3/yarnwrap-1_21_5b3.jar) |
| 1.21.1  | [1.21.1b3](https://github.com/FabricCore/yarnwrap/releases/download/b3/yarnwrap-1_21_1b3.jar) |

> I would appreciate if you give this project a star :)

## Usage

Yarnwrap is a library mod, **put it in the mods folder**, Fabric API required.

### Class Conversion

To create a wrapper class of corresponding type.

```java
net.minecarft.name.of.Type original = someFunction();
yarnwrap.name.of.Type wrapped = new yarnwrap.name.of.Type(original);
```

To unwrap a class.

```java
yarnwrap.name.of.Type wrapped = someOtherFunction();
net.minecarft.name.of.Type = wrapped.wrapperContained;
```

### Event Listeners (Runnables)

**yarnwrap.Runnable** implements the functional interfaces to be used as a listener to Fabric API events.

```java
yarnwrap.Runnable runnable = Core.runnable.create("label", "function f() { ... }");
ClientTickEvents.START_CLIENT_TICK.register(runnable);
```

## Building Yarnwrap

Yarnwrap consists mostly of generated code, you will need [**yarn-wrapper-gen**](https://github.com/FabricCore/yarn-wrapper-gen) and [**fabric_event_mappers**](https://github.com/FabricCore/fabric_event_mappers) installed to generate the code, as well as a previous copy of Yarnwarp (here).

1. Make a copy of the files *Core.java* and *RunnableCore.java*, they are human written code and will not be generated.
2. Follow instructions on the two generator to generate the required code.
3. Delete */src/main/java/yarnwrap/\** and replace them with files generated by **yarn-wrapper-gen**.
4. Copy the newly generated *Runnable.java* to */src/main/java/yarnwrap/*.
5. Copy *Core.java* and *RunnableCore.java* to */src/main/java/yarnwrap/*.

All done.

<img src="./src/main/resources/assets/template/icon.png" width=50px>
